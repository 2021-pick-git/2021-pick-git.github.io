<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ - BingheCompany ğŸ‡°ğŸ‡·</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="BingheCompany ğŸ‡°ğŸ‡·" property="og:site_name">
  
    <meta content="Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="ê° Logging Frameworkê°€ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° ë¡œê¹…ì˜ ì„±ëŠ¥ì„ ë¹„êµí•´ë´…ì‹œë‹¤." property="og:description">
  
  
    <meta content="https://2021-pick-git.github.io//logback-vs-log4j2/" property="og:url">
  
  
    <meta content="2021-09-29T19:32:20+09:00" property="article:published_time">
    <meta content="https://2021-pick-git.github.io//about/" property="article:author">
  
  
    <meta content="https://2021-pick-git.github.io//assets/img/log4j2.png" property="og:image">
  
  
    
  
  
    
    <meta content="ë°±ì—”ë“œ" property="article:tag">
    
    <meta content="Logging" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
  
    <meta name="twitter:title" content="Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ">
  
  
    <meta name="twitter:url" content="https://2021-pick-git.github.io//logback-vs-log4j2/">
  
  
    <meta name="twitter:description" content="ê° Logging Frameworkê°€ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° ë¡œê¹…ì˜ ì„±ëŠ¥ì„ ë¹„êµí•´ë´…ì‹œë‹¤.">
  
  
    <meta name="twitter:image:src" content="https://2021-pick-git.github.io//assets/img/log4j2.png">
  

	<meta name="description" content="ê° Logging Frameworkê°€ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° ë¡œê¹…ì˜ ì„±ëŠ¥ì„ ë¹„êµí•´ë´…ì‹œë‹¤.">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700|Lato:300,400,700&display=swap" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/mark.jpg" alt="ê¹ƒ-ë“¤ë‹¤ (pick-git)"></a>
      </div>
      <div class="author-name">ê¹ƒ-ë“¤ë‹¤ (pick-git)</div>
      <p>ê¹ƒ-ë“¤ë‹¤ ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.</br>ğŸ˜‡ğŸ’ª</br> This is a tech blog for pick-git.</br> ãƒ”ã‚¯ã‚®ãƒˆã®æŠ€è¡“ã®blogã§ã™ã€‚</br> è¿™æ˜¯ pick-git ç§‘æŠ€åšå®¢.</br></p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://twitter.com/artemsheludko_" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
        
          <li class="github"><a href="http://github.com/woowacourse-teams/2021-pick-git" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
        
        
          <li class="email"><a href="mailto:example.david@blog.com"><i class="fa fa-envelope-o" aria-hidden="true"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2021 &copy; ê¹ƒ-ë“¤ë‹¤ (pick-git)</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img/log4j2.png alt="Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ</h1>
        <div class="page-date"><span>2021, Sep 29&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <h2 id="1-ë“¤ì–´ê°€ë©°">1. ë“¤ì–´ê°€ë©°</h2>

<p>ì•ˆë…•í•˜ì„¸ìš”, ì¼€ë¹ˆì…ë‹ˆë‹¤. Java ë° Spring ì§„ì˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Logging FrameworkëŠ” Log4jì™€ Logback ë° Log4j2 ë“± ë‹¤ì–‘í•©ë‹ˆë‹¤. Pick-Gitì„ ê°œë°œí•˜ë©´ì„œ íŒ€ì›ë“¤ê³¼ ì–´ë–¤ Logging Frameworkë¥¼ ì„ íƒí•´ì•¼í• ì§€ ê³ ë¯¾ì´ ë§ì•˜ìŠµë‹ˆë‹¤. Logging Framework ì¢…ë¥˜ë³„ íŠ¹ì§•ì„ í•™ìŠµí•˜ëŠ” ê²ƒì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³ , ì§ì ‘ Logging Frameworkë“¤ì˜ ë¹„ë™ê¸° ë¡œê¹…(Async Logging) ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ê³  ê²°ê³¼ë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ Log4j2ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆëŠ”ë°ìš”. ì˜ì‚¬ ê²°ì • ê³¼ì •ì— ëŒ€í•´ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="2-logging-framework-ì¢…ë¥˜ë³„-íŠ¹ì§•-ë°-ê´€ë ¨-ìš©ì–´-ì •ë¦¬">2. Logging Framework ì¢…ë¥˜ë³„ íŠ¹ì§• ë° ê´€ë ¨ ìš©ì–´ ì •ë¦¬</h2>

<p>Logging Framework ì¢…ë¥˜ë³„ íŠ¹ì§• ë° ê´€ë ¨ ìš©ì–´ ë“±ì„ ë¨¼ì € ì •ë¦¬í•´ë³´ê³ ì í•©ë‹ˆë‹¤. ì´ë¯¸ ì˜ ì•Œê³  ê³„ì‹œëŠ” ë…ìë‹˜ë“¤ì´ë¼ë©´ ë‹¤ìŒ ì ˆë¡œ ë„˜ì–´ê°€ì…”ë„ ë©ë‹ˆë‹¤. ì´ë²ˆ ì ˆì˜ ë‚´ìš©ì€ ì œê°€ ì˜ˆì „ì— ì •ë¦¬í•œ <a href="https://xlffm3.github.io/spring%20&amp;%20spring%20boot/logback-setting/#2-logging-%EA%B4%80%EB%A0%A8-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC">Logging ë° Spring Boot Logback ì„¤ì •</a> ê¸€ì—ì„œ ë°œì·Œí–ˆìŠµë‹ˆë‹¤.</p>

<p>ì´ˆê¸°ì˜ Springì€ JCL(Jakarta Commons Logging)ì„ ì‚¬ìš©í•˜ì—¬ ë¡œê¹…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. JCLì„ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ì ì¸ ì¸í„°í˜ì´ìŠ¤ì¸ Logì™€ Log ê°ì²´ ìƒì„±ì„ ë‹´ë‹¹í•˜ëŠ” LogFactoryë§Œ êµ¬í˜„í•˜ë©´ ë¡œê¹… êµ¬í˜„ì²´ êµì²´ê°€ ììœ ë¡­ìŠµë‹ˆë‹¤. JCLì€ GCê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ë“±ì˜ ë‹¨ì ì´ ì¡´ì¬í–ˆëŠ”ë°ìš”. ì´ ë•Œ ë„ì…ëœ ê²ƒì´ SLF4Jì…ë‹ˆë‹¤.</p>

<p>SLF4JëŠ” Java ì§„ì˜ì˜ ë‹¤ì–‘í•œ ë¡œê¹… í”„ë ˆì„ì›Œí¬ë“¤ì— ëŒ€í•œ ê³µìš© ì¸í„°í˜ì´ìŠ¤(Facade)ì…ë‹ˆë‹¤. ê³µìš© ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ íŠ¹ì • ë¡œê¹… í”„ë ˆì„ì›Œí¬ì—ì„œ ë‹¤ë¥¸ ë¡œê¹… í”„ë ˆì„ì›Œí¬ë¡œ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. JCLì´ ì§€ë‹Œ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´, í´ë˜ìŠ¤ ë¡œë” ëŒ€ì‹ ì— ì»´íŒŒì¼ ì‹œì ì— êµ¬í˜„ì²´ë¥¼ ì„ íƒí•˜ë„ë¡ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.</p>

<p>ë‹¤ìŒì€ ê° Logging Framework ì¢…ë¥˜ë³„ íŠ¹ì§•ì…ë‹ˆë‹¤.</p>

<ul>
  <li>Log4j : Apacheì˜ Java ê¸°ë°˜ì˜ ë¡œê¹… í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
    <ul>
      <li>ê°€ì¥ ì˜¤ë˜ëœ ë¡œê¹… í”„ë ˆì„ì›Œí¬ë©°, í˜„ì¬ëŠ” ê°œë°œì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>Logback : Log4j ì´í›„ì— ì¶œì‹œëœ ë¡œê¹… í”„ë ˆì„ì›Œí¬ë¡œ, Spring Bootê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
    <ul>
      <li>Log4jë³´ë‹¤ í–¥ìƒëœ ì„±ëŠ¥ ë° í•„í„°ë§ ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.</li>
      <li>ë¡œê·¸ ë ˆë²¨ ë³€ê²½ ë“±ì— ëŒ€í•´ ì„œë²„ë¥¼ ì¬ì‹œì‘í•  í•„ìš” ì—†ì´ ìë™ ë¦¬ë¡œë”©ì„ ì§€ì›í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>Log4j2 : íŒŒì¼ë¿ë§Œ ì•„ë‹ˆë¼ HTTP, DB, Kafkaì— ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìœ¼ë©° ë¹„ë™ê¸°ì ì¸ ë¡œê±°ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
    <ul>
      <li>ë¡œê¹… ì„±ëŠ¥ì´ ì¤‘ìš”ì‹œë  ë•Œ Log4j2 ì‚¬ìš©ì„ ê³ ë ¤í•©ë‹ˆë‹¤.</li>
      <li>Log4j2 ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” spring-boot-starter-logging ëª¨ë“ˆì„ excludeí•˜ê³  spring-boot-starter-logging-log4j2 ì˜ì¡´ì„±ì„ ì£¼ì…í•´ì•¼ í•©ë‹ˆë‹¤.</li>
      <li>Logbackê³¼ ë‹¬ë¦¬ ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì—ì„œ ë¹„ë™ê¸° ë¡œê±°(Async Logger)ì˜ ê²½ìš° Log4j 1.x ë° Logbackë³´ë‹¤ ì„±ëŠ¥ì´ ìš°ìˆ˜í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="3-async-logging">3. Async Logging</h2>

<blockquote>
  <p>Test.java</p>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">log</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">foo</span><span class="o">.</span><span class="na">bar</span><span class="o">();</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"foo invoked"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ë³„ë„ì˜ ì„¤ì •ì—†ì´ ë¡œê·¸ ë©”ì‹œì§€ë¥¼ ë‚¨ê¸°ë©´ ë™ê¸°ì ì¸ ë°©ì‹ìœ¼ë¡œ íŒŒì¼ ì“°ê¸° ì‘ì—…ì´ ì§„í–‰ë©ë‹ˆë‹¤. ì¦‰, ë¡œê¹… ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì (ë¡œê·¸ ë°œìƒ)ì— ë§¤ë²ˆ íŒŒì¼ ì“°ê¸° ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤. íŒŒì¼ ì“°ê¸°ì™€ ê°™ì€ I/OëŠ” ì¸ë©”ëª¨ë¦¬ ì‘ì—…ì´ ì•„ë‹ˆë¼ì„œ ìƒëŒ€ì ìœ¼ë¡œ ë”œë ˆì´ ë° ë¶€í•˜ê°€ í½ë‹ˆë‹¤.</p>

<p>ë°˜ë©´ ë¹„ë™ê¸° ë¡œê¹…ì„ ì‚¬ìš©í•˜ë©´ <strong>ë¡œê·¸ ë°œìƒ</strong>ê³¼ <strong>ë¡œê·¸ ì“°ê¸°</strong>ë¥¼ ë¶„ë¦¬ì‹œí‚µë‹ˆë‹¤. ë¡œê¹… ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´(ë¡œê·¸ ë°œìƒ), Thread AëŠ” ì¸ë©”ëª¨ë¦¬ Queue í˜¹ì€ Bufferì— ë¡œê·¸ ì •ë³´ë¥¼ ì§‘ì–´ë„£ìŠµë‹ˆë‹¤. Thread BëŠ” Queue í˜¹ì€ Bufferì— ìŒ“ì¸ ë¡œê·¸ ë°ì´í„°ë¥¼ êº¼ë‚´ì„œ íŒŒì¼ ì“°ê¸°ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë¡œê¹… í”„ë ˆì„ì›Œí¬ë§ˆë‹¤ ë¹„ë™ê¸° ë¡œê¹… ì„¸ë¶€ êµ¬í˜„ì´ ë‹¤ì†Œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h3 id="31-ì¥ì ">3.1. ì¥ì </h3>

<p>ë¡œê¹… ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì (ë¡œê·¸ ë°œìƒ)ì— íŒŒì¼ I/O ì‘ì—…ì´ ë°”ë¡œ ìˆ˜í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì´ ë¹¨ë¼ì§‘ë‹ˆë‹¤.</p>

<h3 id="32-ë‹¨ì ">3.2. ë‹¨ì </h3>

<p>Queue í˜¹ì€ Bufferì˜ ìš©ëŸ‰ì´ 80%ë¥¼ ë„ë‹¬í•˜ë©´, WARN ë ˆë²¨ ë¯¸ë§Œì˜ ë¡œê·¸ëŠ” íì—ì„œ ì œê±°ë˜ëŠ” ë“± ìœ ì‹¤ì˜ ìœ„í—˜ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ë˜í•œ Queue í˜¹ì€ Bufferì— ë¡œê·¸ê°€ ìŒ“ì¸ ìƒíƒœì—ì„œ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ë©´, í•´ë‹¹ ë¡œê·¸ëŠ” ê¸°ë¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¬¼ë¡  ì˜µì…˜ ì¡°ì •ì„ í†µí•´ ë¡œê¹… ì„±ëŠ¥ì„ ì¼ë¶€ íƒ€í˜‘í•˜ëŠ” ëŒ€ì‹  ë¡œê·¸ ìœ ì‹¤ ê°€ëŠ¥ì„±ì„ ë‚®ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>Queue í˜¹ì€ Buffer í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>Queue í˜¹ì€ Bufferê°€ ê½‰ì°¬ ê²½ìš° ë¡œê·¸ë¥¼ ìœ ì‹¤ì‹œí‚¬ì§€, ë¸”ë½í‚¹ ìƒíƒœì—ì„œ ê¸°ë‹¤ë¦´ì§€ ë“±ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>

<p>ë˜í•œ ë¹„ë™ê¸° ë¡œê¹…ì€ ê¸°ë³¸ì ìœ¼ë¡œ Method Name ë° Line Numberë¥¼ ì¶œë ¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ë˜í•œ ì˜µì…˜ ì„¤ì •ì„ í†µí•´ ì¶œë ¥ì„ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‚˜, 5 ~ 20ë°° ì •ë„ ì†ë„ê°€ ì €í•˜ë©ë‹ˆë‹¤.</p>

<h3 id="33-sync--async">3.3. Sync &amp; Async</h3>

<blockquote>
  <p>Test.js</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">b</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">a is done</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
ì‹¤í–‰ ê²°ê³¼
10
a is done
*/</span>
</code></pre></div></div>

<p>Synchronous(ë™ê¸°)ë€ ì‘ì—…ì„ ìš”ì²­í•œ í›„ ì‘ì—…ì˜ ê²°ê³¼ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. A í•¨ìˆ˜ê°€ B í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ, A í•¨ìˆ˜ê°€ B í•¨ìˆ˜ì˜ ìˆ˜í–‰ ê²°ê³¼ ë° ì¢…ë£Œë¥¼ ì‹ ê²½ì“°ëŠ” ê²½ìš°ë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ì¸ ê²½ìš° Blockingê³¼ ë™ì¼í•œ ì˜ë¯¸ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>Test.js</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">response arrives</span><span class="dl">"</span><span class="p">))</span>
      <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">error thrown</span><span class="dl">"</span><span class="p">));</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">a is done</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*
ì‹¤í–‰ ê²°ê³¼
a is done
response arrives
*/</span>
</code></pre></div></div>

<p>ë°˜ë©´ Asynchronous(ë¹„ë™ê¸°)ë€ ë‘ ì£¼ì²´ê°€ ì„œë¡œì˜ ì‹œì‘/ì¢…ë£Œ ì‹œê°„ê³¼ëŠ” ê´€ê³„ ì—†ì´ ë³„ë„ì˜ ìˆ˜í–‰ ì‹œì‘/ì¢…ë£Œì‹œê°„ì„ ê°€ì§€ê³  ìˆëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. A í•¨ìˆ˜ê°€ B í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ, í˜¸ì¶œëœ í•¨ìˆ˜ì˜ ìˆ˜í–‰ ê²°ê³¼ ë° ì¢…ë£Œë¥¼ í˜¸ì¶œëœ í•¨ìˆ˜ í˜¼ì ì§ì ‘ ì‹ ê²½ ì“°ê³  ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ê²Œ ê²°ê³¼ë¥¼ ëŒë ¤ì£¼ì—ˆì„ ë•Œ ìˆœì„œì™€ ê²°ê³¼(ì²˜ë¦¬)ì— ê´€ì‹¬ì´ ìˆëŠ”ì§€ ì•„ë‹Œì§€ë¡œ íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="4-log4j2-async-logger-performance">4. Log4j2 Async Logger Performance</h2>

<p><img src="https://user-images.githubusercontent.com/56240505/134123064-177446c8-864f-4528-aad6-a8644c0a092f.png" alt="image" /></p>

<p><a href="https://logging.apache.org/log4j/2.x/performance.html">Log4j2 Performance</a> ê³µì‹ ë¬¸ì„œì— ê¸°ì¬ëœ ì—¬ëŸ¬ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ ì§€í‘œì— ë”°ë¥´ë©´, Log4j2 <strong>AsyncLogger</strong>ë¥¼ ì‚¬ìš©í•œ ë¹„ë™ê¸° ë¡œê¹…ì˜ ì„±ëŠ¥ì´ ê°€ì¥ ìš°ìˆ˜í•©ë‹ˆë‹¤. Logback ë° Log4j2 ëª¨ë‘ AsyncAppenderë¼ê³  í•˜ëŠ” ì „í†µì ì¸ ë¹„ë™ê¸° ë¡œê¹… ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ë°, ì´ëŠ” ArrayBlockingQueue ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<p>ë°˜ë©´ ë¹„êµì  ë‚˜ì¤‘ì— ê³µê°œëœ Log4j2ì˜ <strong>AsyncLogger</strong>ëŠ” LMAX Disruptorë¼ëŠ” Lock-Free Inter-Thread Communication ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, ë” ë†’ì€ ì²˜ë¦¬ëŸ‰ ë° ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>

<p>ì‹¤ì œë¡œë„ Log4j2ì˜ AsyncLoggerë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ë¡œê¹…ì´ Log4j2ì˜ AsyncAppender ë° Logbackì˜ AsyncAppenderë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ë¡œê¹…ë³´ë‹¤ ìš°ìˆ˜í• ê¹Œìš”? ê°œì¸ì ì¸ í˜¸ê¸°ì‹¬ì´ ìƒê²¨ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="5-log4j2-async-logging-ì„±ëŠ¥-í…ŒìŠ¤íŠ¸">5. Log4j2 Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸</h2>

<h3 id="51-í…ŒìŠ¤íŠ¸-í™˜ê²½">5.1. í…ŒìŠ¤íŠ¸ í™˜ê²½</h3>

<blockquote>
  <p>build.gradle</p>
</blockquote>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">implementation</span> <span class="s1">'org.springframework.boot:spring-boot-starter-log4j2'</span>
    <span class="n">implementation</span> <span class="s1">'com.lmax:disruptor:3.4.2'</span>

    <span class="n">modules</span> <span class="o">{</span>
        <span class="n">module</span><span class="o">(</span><span class="s2">"org.springframework.boot:spring-boot-starter-logging"</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">replacedBy</span><span class="o">(</span><span class="s2">"org.springframework.boot:spring-boot-starter-log4j2"</span><span class="o">,</span> <span class="s2">"Use Log4j2 instead of Logback"</span><span class="o">)</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//ê¸°íƒ€ Spring ê´€ë ¨ ì˜ì¡´ì„± ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Log4j2 ë° Disruptor ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì£¼ê³ , Spring Bootê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” <code class="language-plaintext highlighter-rouge">spring-boot-starter-logging</code> ëª¨ë“ˆì€ ì œì™¸í•´ì¤ë‹ˆë‹¤.</p>

<blockquote>
  <p>LogController.java</p>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LogController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">LogService</span> <span class="n">logService</span><span class="o">;</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/log"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">log</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">logService</span><span class="o">.</span><span class="na">log</span><span class="o">();</span>
        <span class="k">return</span> <span class="s">"log"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<blockquote>
  <p>LogService.java</p>
</blockquote>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@Transactional</span><span class="o">(</span><span class="n">readOnly</span> <span class="o">=</span> <span class="kc">true</span><span class="o">)</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LogService</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">log</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10_000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"info log"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>ìµœëŒ€í•œ Async Loggingì˜ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ëŠ” ë°©í–¥ìœ¼ë¡œ Loggerë¥¼ ì„¤ì •í•œ ë‹¤ìŒ, nGrinderë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.</strong> 10ë¶„ë™ì•ˆ VUser 1000ëª…ì´ <code class="language-plaintext highlighter-rouge">GET /log</code>ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.</p>

<h3 id="52-logback-async-logging-with-asyncappender">5.2. Logback Async Logging (with AsyncAppender)</h3>

<blockquote>
  <p>logback-spring.xml</p>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;configuration</span> <span class="na">debug=</span><span class="s">"false"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;include</span> <span class="na">resource=</span><span class="s">"org/springframework/boot/logging/logback/base.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"home"</span> <span class="na">value=</span><span class="s">"logs/"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"info-logger"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file&gt;</span>${home}info.log<span class="nt">&lt;/file&gt;</span>
    <span class="nt">&lt;append&gt;</span>false<span class="nt">&lt;/append&gt;</span>
    <span class="nt">&lt;immediateFlush&gt;</span>false<span class="nt">&lt;/immediateFlush&gt;</span>
    <span class="nt">&lt;rollingPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;fileNamePattern&gt;</span>${home}info-%d{yyyyMMdd}-%i.log<span class="nt">&lt;/fileNamePattern&gt;</span>
      <span class="nt">&lt;timeBasedFileNamingAndTriggeringPolicy</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;maxFileSize&gt;</span>15MB<span class="nt">&lt;/maxFileSize&gt;</span>
      <span class="nt">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
      <span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
    <span class="nt">&lt;/rollingPolicy&gt;</span>
    <span class="nt">&lt;encoder&gt;</span>
      <span class="nt">&lt;charset&gt;</span>utf8<span class="nt">&lt;/charset&gt;</span>
      <span class="nt">&lt;Pattern&gt;</span>
        %d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %t %class{36}.%M L:%L %n      &gt; %m%n
      <span class="nt">&lt;/Pattern&gt;</span>
    <span class="nt">&lt;/encoder&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"file-async"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.AsyncAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"info-logger"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;includeCallerData&gt;</span>true<span class="nt">&lt;/includeCallerData&gt;</span>
    <span class="nt">&lt;queueSize&gt;</span>1024<span class="nt">&lt;/queueSize&gt;</span>
    <span class="nt">&lt;neverBlock&gt;</span>false<span class="nt">&lt;/neverBlock&gt;</span>
    <span class="nt">&lt;discardingThreshold&gt;</span>0<span class="nt">&lt;/discardingThreshold&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"com.example.logging"</span> <span class="na">level=</span><span class="s">"INFO"</span> <span class="na">additivity=</span><span class="s">"false"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"file-async"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/logger&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></div>

<p>ë¨¼ì € Logback AsyncAppenderë¥¼ ì‚¬ìš©í•˜ëŠ” ë¹„ë™ê¸° ë¡œê¹…ì„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì¶”í›„ í…ŒìŠ¤íŠ¸í•  Log4j2ì˜ AsyncAppenderì™€ ìµœëŒ€í•œ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ë„ë¡ ì˜µì…˜ë“¤ì„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>RollingFileAppender
    <ul>
      <li>append : true(ê¸°ë³¸ê°’)ë©´ ë¡œê·¸ ì¶œë ¥ì´ ê¸°ì¡´ íŒŒì¼ì— ì¶”ê°€ë˜ë©°, falseë©´ ê¸°ì¡´ íŒŒì¼ì˜ ë‚´ìš©ì´ ëª¨ë‘ ì‚­ì œë˜ê³  ì¶œë ¥ì´ ìŒ“ì…ë‹ˆë‹¤.</li>
      <li>immediateFlush : true(ê¸°ë³¸ê°’)ë©´ ë¡œê·¸ ë©”ì„¸ì§€ë“¤ì´ ì „í˜€ ë²„í¼ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>AsyncAppender
    <ul>
      <li>includeCallerData : ë¹„ë™ê¸° ë¡œê¹…ì—ì„œë„ Method Name ë° Line Number ë“± ìœ„ì¹˜ ì •ë³´ë¥¼ ì¶œë ¥í•˜ê²Œ í•´ì£¼ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.</li>
      <li>queueSize : ê¸°ë³¸ê°’ì€ 256ì§€ë§Œ Log4j2ì˜ ê¸°ë³¸ê°’ê³¼ ë™ì¼í•˜ê²Œ 1024ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.</li>
      <li>neverBlock : false(ê¸°ë³¸ê°’)ë©´ ë¡œê·¸ ë°œìƒì‹œ Queueì— ë„£ì„ ê³µê°„ì´ ì—†ìœ¼ë©´ ë¹ˆ ê³µê°„ì´ ìƒê¸¸ ë•Œ ê¹Œì§€ ë¸”ë½í‚¹ ìƒíƒœë¡œ ê¸°ë‹¤ë¦¬ë©°, ë¡œê·¸ë¥¼ ìœ ì‹¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
      <li>discardingThreshold : Queueì˜ ë‚¨ì€ ìš©ëŸ‰ì´ <strong>{í•´ë‹¹ ì„¤ì •ê°’ n}%</strong> ì´í•˜ê°€ ë˜ë©´, WARN ë¯¸ë§Œ ë¡œê·¸ê°€ ìœ ì‹¤ë˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤.
        <ul>
          <li>ê¸°ë³¸ ê°’ì€ 20ì´ë©°, Queueì— ë‚¨ì€ ìš©ëŸ‰ì´ 20% ì´í•˜ê°€ ë˜ë©´ ë¡œê·¸ ìœ ì‹¤ì´ ë°œìƒí•©ë‹ˆë‹¤.</li>
          <li>0ìœ¼ë¡œ ì„¸íŒ…í•˜ë©´ Queueì— ìŒ“ì¸ ë¡œê·¸ë¥¼ ë“œëí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="https://user-images.githubusercontent.com/56240505/134135579-664a9a11-309a-4168-92b7-62f0bd787d56.png" alt="image" /></p>

<p>TPSëŠ” í‰ê·  4.0, ìµœëŒ€ 6.0ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134135724-0579f377-291a-4583-80f6-da7a566c9dd8.png" alt="image" /></p>

<p>MTTëŠ” 125,214ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134135830-21423404-b447-4a4d-8254-3c4db55cdf2c.png" alt="image" /></p>

<p>ì´ ìˆ˜í–‰ëœ í…ŒìŠ¤íŠ¸ëŠ” 3,916ê°œì¸ë°, ì´ ì¤‘ ì—ëŸ¬ëŠ” 1,608ê°œë¡œ ì—ëŸ¬ìœ¨ì´ 41%ì˜€ìŠµë‹ˆë‹¤. í›„ìˆ í•  Log4j2ì˜ ë™ê¸°ì ì¸ ë¡œê¹… ë°©ì‹ë³´ë‹¤ ì„±ëŠ¥ì´ ë‚˜ìœ ì ì„ ë³¼ ë•Œ, ì•„ë¬´ë˜ë„ AsyncAppenderë¥¼ ë„ˆë¬´ ë‚˜ì˜ê²Œ ì„¤ì •í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ğŸ˜…</p>

<h3 id="53-log4j2-sync-logging">5.3. Log4j2 Sync Logging</h3>

<blockquote>
  <p>log4j2.xml</p>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;Configuration&gt;</span>
  <span class="nt">&lt;Properties&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-path"</span><span class="nt">&gt;</span>logs/log<span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %t %class{36}.%M L:%L %n &gt;
      %m%n
    <span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"file-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd}-%i.log.gz<span class="nt">&lt;/Property&gt;</span>
  <span class="nt">&lt;/Properties&gt;</span>

  <span class="nt">&lt;Appenders&gt;</span>
    <span class="nt">&lt;RollingFile</span> <span class="na">name=</span><span class="s">"FileAppender"</span> <span class="na">fileName=</span><span class="s">"${log-path}.log"</span>
      <span class="na">filePattern=</span><span class="s">"${log-path}-${file-pattern}"</span> <span class="na">append=</span><span class="s">"false"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;PatternLayout</span> <span class="na">pattern=</span><span class="s">"${log-pattern}"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Policies&gt;</span>
        <span class="nt">&lt;SizeBasedTriggeringPolicy</span> <span class="na">size=</span><span class="s">"15MB"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TimeBasedTriggeringPolicy</span> <span class="na">modulate=</span><span class="s">"true"</span> <span class="na">interval=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/Policies&gt;</span>
      <span class="nt">&lt;DefaultRolloverStrategy&gt;</span>
        <span class="nt">&lt;Delete</span> <span class="na">basePath=</span><span class="s">"logs/log"</span> <span class="na">maxDepth=</span><span class="s">"1"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;IfLastModified</span> <span class="na">age=</span><span class="s">"30d"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Delete&gt;</span>
      <span class="nt">&lt;/DefaultRolloverStrategy&gt;</span>
    <span class="nt">&lt;/RollingFile&gt;</span>
  <span class="nt">&lt;/Appenders&gt;</span>

  <span class="nt">&lt;Loggers&gt;</span>
    <span class="nt">&lt;Logger</span> <span class="na">name=</span><span class="s">"com.example.logging"</span> <span class="na">level=</span><span class="s">"info"</span> <span class="na">additivity=</span><span class="s">"false"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AppenderRef</span> <span class="na">ref=</span><span class="s">"FileAppender"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Logger&gt;</span>
  <span class="nt">&lt;/Loggers&gt;</span>
<span class="nt">&lt;/Configuration&gt;</span>
</code></pre></div></div>

<p>ì´ë²ˆì—ëŠ” Log4j2ë¥¼ ì‚¬ìš©í•˜ë˜ ë¹„ë™ê¸° ë¡œê¹…ì´ ì•„ë‹Œ ë™ê¸°ì ì¸ ë¡œê¹… ë°©ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134126197-0f43123e-b6b2-4e02-bd9e-40913f0cb6d8.png" alt="image" /></p>

<p>TPSëŠ” í‰ê·  5.6, ìµœëŒ€ 8.0ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134126348-626818d8-946f-423f-b102-e157b5c82e86.png" alt="image" /></p>

<p>MTTëŠ” 126,803ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134126450-cc714e0e-824a-4c0b-8790-7caba31756f3.png" alt="image" /></p>

<p>ì´ ìˆ˜í–‰ëœ í…ŒìŠ¤íŠ¸ëŠ” 3,891ê°œì¸ë°, ì´ ì¤‘ ì—ëŸ¬ëŠ” 684ê°œë¡œ ì—ëŸ¬ìœ¨ì´ 17.6%ì˜€ìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>Log</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection, Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
</code></pre></div></div>

<p>í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì´ ì»¤ë„¥ì…˜ì„ ì ìœ í•˜ë©´ì„œ 1ë§Œë²ˆ ë¡œê·¸ íŒŒì¼ ì“°ê¸° I/O ì‘ì—…ì„ ì§„í–‰í•˜ëŠ”ë°ìš”. ë™ê¸°ì ì¸ ì²˜ë¦¬ë¡œ ì¸í•´ íŠ¸ëœì­ì…˜ ìˆ˜í–‰ ì‹œê°„ì´ ê¸¸ì–´ì§€ë‹¤ ë³´ë‹ˆ, DB ì»¤ë„¥ì…˜ì„ 30ì´ˆ ì´ìƒ ì–»ì§€ ëª»í•´ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ìŠ¤ë ˆë“œê°€ ë§ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>

<h3 id="54-log4j2-async-logging-with-asyncappender">5.4. Log4j2 Async Logging (with AsyncAppender)</h3>

<blockquote>
  <p>log4j2.xml</p>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;Configuration&gt;</span>
  <span class="nt">&lt;Properties&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-path"</span><span class="nt">&gt;</span>logs/log<span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %t %class{36}.%M L:%L %n &gt;
      %m%n
    <span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"file-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd}-%i.log.gz<span class="nt">&lt;/Property&gt;</span>
  <span class="nt">&lt;/Properties&gt;</span>

  <span class="nt">&lt;Appenders&gt;</span>
    <span class="nt">&lt;RollingFile</span> <span class="na">name=</span><span class="s">"FileAppender"</span> <span class="na">fileName=</span><span class="s">"${log-path}.log"</span>
      <span class="na">filePattern=</span><span class="s">"${log-path}-${file-pattern}"</span> <span class="na">immediateFlush=</span><span class="s">"false"</span> <span class="na">append=</span><span class="s">"false"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;PatternLayout</span> <span class="na">pattern=</span><span class="s">"${log-pattern}"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Policies&gt;</span>
        <span class="nt">&lt;SizeBasedTriggeringPolicy</span> <span class="na">size=</span><span class="s">"15MB"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TimeBasedTriggeringPolicy</span> <span class="na">modulate=</span><span class="s">"true"</span> <span class="na">interval=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/Policies&gt;</span>
      <span class="nt">&lt;DefaultRolloverStrategy&gt;</span>
        <span class="nt">&lt;Delete</span> <span class="na">basePath=</span><span class="s">"logs/log"</span> <span class="na">maxDepth=</span><span class="s">"1"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;IfLastModified</span> <span class="na">age=</span><span class="s">"30d"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Delete&gt;</span>
      <span class="nt">&lt;/DefaultRolloverStrategy&gt;</span>
    <span class="nt">&lt;/RollingFile&gt;</span>

    <span class="nt">&lt;Async</span> <span class="na">name=</span><span class="s">"asyncAppender"</span> <span class="na">includeLocation=</span><span class="s">"true"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AppenderRef</span> <span class="na">ref=</span><span class="s">"FileAppender"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Async&gt;</span>
  <span class="nt">&lt;/Appenders&gt;</span>

  <span class="nt">&lt;Loggers&gt;</span>
    <span class="nt">&lt;Logger</span> <span class="na">name=</span><span class="s">"com.example.logging"</span> <span class="na">level=</span><span class="s">"info"</span> <span class="na">additivity=</span><span class="s">"false"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AppenderRef</span> <span class="na">ref=</span><span class="s">"asyncAppender"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Logger&gt;</span>
  <span class="nt">&lt;/Loggers&gt;</span>
<span class="nt">&lt;/Configuration&gt;</span>
</code></pre></div></div>

<p>Log4j2ì˜ AsyncAppenderë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ë¡œê¹…ì„ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>RollingFile
    <ul>
      <li>append ë° immediateFlush ì˜µì…˜ì€ Logbackê³¼ ë™ì¼í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>AsyncAppender
    <ul>
      <li>includeLocation : Logbackì˜ includeCallerData ì˜µì…˜ê³¼ ë™ì¼í•©ë‹ˆë‹¤.
        <ul>
          <li>ê¸°ë³¸ê°’ì€ falseì´ê³ , ì‚¬ìš©í•˜ê²Œ ë  ê²½ìš° ì†ë„ê°€ 5 ~ 20ë°° ì •ë„ ëŠë ¤ì§‘ë‹ˆë‹¤.</li>
        </ul>
      </li>
      <li>bufferSize : ê¸°ë³¸ê°’ì€ 1024ì…ë‹ˆë‹¤.</li>
      <li>blocking : true(ê¸°ë³¸ê°’)ë©´ ë¡œê·¸ ë°œìƒì‹œ Queueì— ë„£ì„ ê³µê°„ì´ ì—†ìœ¼ë©´ ë¹ˆ ê³µê°„ì´ ìƒê¸¸ ë•Œ ê¹Œì§€ ë¸”ë½í‚¹ ìƒíƒœë¡œ ê¸°ë‹¤ë¦¬ë©°, ë¡œê·¸ë¥¼ ìœ ì‹¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        <ul>
          <li>falseë©´ ë¡œê·¸ ë°œìƒì‹œ Queueê°€ ê½‰ ì°¼ë‹¤ë©´ ë¡œê·¸ë¥¼ ìœ ì‹¤í•˜ê³ , Error Appenderì— ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="https://user-images.githubusercontent.com/56240505/135132454-449e53bd-17f1-4b72-b50a-11f7958c7e42.png" alt="image" /></p>

<p>TPSëŠ” í‰ê·  7.0, ìµœëŒ€ 9.0ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/135132564-27cd235e-8037-4cec-8397-ec38e0d294a6.png" alt="image" /></p>

<p>MTTëŠ” 112,305ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/135132641-ddce4e11-3196-4a33-bf04-d4eba3fcc990.png" alt="image" /></p>

<p>ì´ ìˆ˜í–‰ëœ í…ŒìŠ¤íŠ¸ëŠ” 4,506ê°œì¸ë°, ì´ ì¤‘ ì—ëŸ¬ëŠ” 488ê°œë¡œ ì—ëŸ¬ìœ¨ì´ 10.8%ì˜€ìŠµë‹ˆë‹¤. í™•ì‹¤íˆ Logbackì˜ AsyncAppender ë° Log4j2ì˜ Sync Loggingë³´ë‹¤ ì„±ëŠ¥ì´ ì¢‹ìŠµë‹ˆë‹¤.</p>

<h3 id="55-log4j2-async-logging-with-asynclogger">5.5. Log4j2 Async Logging (with AsyncLogger)</h3>

<blockquote>
  <p>log4j2.xml</p>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;Configuration&gt;</span>
  <span class="nt">&lt;Properties&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-path"</span><span class="nt">&gt;</span>logs/log<span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"log-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %t %class{36}.%M L:%L %n &gt;
      %m%n
    <span class="nt">&lt;/Property&gt;</span>
    <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"file-pattern"</span><span class="nt">&gt;</span>%d{yyyy-MM-dd}-%i.log.gz<span class="nt">&lt;/Property&gt;</span>
  <span class="nt">&lt;/Properties&gt;</span>

  <span class="nt">&lt;Appenders&gt;</span>
    <span class="nt">&lt;RollingFile</span> <span class="na">name=</span><span class="s">"FileAppender"</span> <span class="na">fileName=</span><span class="s">"${log-path}.log"</span>
      <span class="na">filePattern=</span><span class="s">"${log-path}-${file-pattern}"</span> <span class="na">immediateFlush=</span><span class="s">"false"</span> <span class="na">append=</span><span class="s">"false"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;PatternLayout</span> <span class="na">pattern=</span><span class="s">"${log-pattern}"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;Policies&gt;</span>
        <span class="nt">&lt;SizeBasedTriggeringPolicy</span> <span class="na">size=</span><span class="s">"15MB"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TimeBasedTriggeringPolicy</span> <span class="na">modulate=</span><span class="s">"true"</span> <span class="na">interval=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/Policies&gt;</span>
      <span class="nt">&lt;DefaultRolloverStrategy&gt;</span>
        <span class="nt">&lt;Delete</span> <span class="na">basePath=</span><span class="s">"logs/log"</span> <span class="na">maxDepth=</span><span class="s">"1"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;IfLastModified</span> <span class="na">age=</span><span class="s">"30d"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Delete&gt;</span>
      <span class="nt">&lt;/DefaultRolloverStrategy&gt;</span>
    <span class="nt">&lt;/RollingFile&gt;</span>
  <span class="nt">&lt;/Appenders&gt;</span>

  <span class="nt">&lt;Loggers&gt;</span>
    <span class="nt">&lt;AsyncLogger</span> <span class="na">name=</span><span class="s">"com.example.logging"</span> <span class="na">level=</span><span class="s">"info"</span> <span class="na">additivity=</span><span class="s">"false"</span> <span class="na">includeLocation=</span><span class="s">"true"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AppenderRef</span> <span class="na">ref=</span><span class="s">"FileAppender"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/AsyncLogger&gt;</span>
  <span class="nt">&lt;/Loggers&gt;</span>
<span class="nt">&lt;/Configuration&gt;</span>
</code></pre></div></div>

<p>ë§ˆì§€ë§‰ìœ¼ë¡œ Log4j2ì˜ AsyncLoggerë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ë¡œê¹…ì„ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134131438-0bdad77e-207a-481d-998b-bc46e4688ebd.png" alt="image" /></p>

<p>TPSëŠ” í‰ê·  16.3, ìµœëŒ€ 19.5ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134131614-db96e3e3-426c-480a-8993-9256cd413b0f.png" alt="image" /></p>

<p>MTTëŠ” 58,116ì…ë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134131729-f8201697-495e-46d6-80e4-6d79ee4c43c5.png" alt="image" /></p>

<p>ì´ ìˆ˜í–‰ëœ í…ŒìŠ¤íŠ¸ëŠ” 9,351ê°œì¸ë°, ì´ ì¤‘ ì—ëŸ¬ëŠ” 32ê°œë¡œ ì—ëŸ¬ìœ¨ì´ 0.3%ì˜€ìŠµë‹ˆë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/56240505/134138570-bb58ae2c-1100-47ab-9b85-711554384dc2.png" alt="image" /></p>

<p>ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ë„ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œ ê²°ê³¼, TPSëŠ” í‰ê·  68.2 ë° ìµœëŒ€ 77ë¡œ ë§¤ìš° ë†’ê²Œ í–¥ìƒë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="6-ë§ˆì¹˜ë©°">6. ë§ˆì¹˜ë©°</h2>

<p>Logbackì˜ AsyncAppenderì™€ Log4j2ì˜ AsyncAppender ë° Log4j2ì˜ AsyncLogger ë“±ì˜ ë¹„ë™ê¸° ë¡œê¹… ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ ë¹„êµ ë¶„ì„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê³µì‹ ë¬¸ì„œì˜ ë²¤ì¹˜ ë§ˆí¬ ì§€í‘œë¥¼ ë³´ê³  í˜¸ê¸°ì‹¬ì´ ìƒê²¨ ì‹œì‘í•œ ì‹¤í—˜ì´ì—ˆëŠ”ë°, ì˜ì˜ë³´ë‹¤ëŠ” í•œê³„ê°€ ë” í° ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>

<p>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê° Logging Frameworkë“¤ì´ ìµœëŒ€í•œ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ë„ë¡ ì—¬ëŸ¬ ì˜µì…˜ë“¤ì„ ì„¤ì •í–ˆëŠ”ë°ìš”. ê²°ê³¼ì ìœ¼ë¡œëŠ” AsyncLoggerì˜ ì„±ëŠ¥ì´ ê°€ì¥ ìš°ìˆ˜í•˜ë‹¤ëŠ” ê²°ë¡ ì„ ë„ì¶œí•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì˜µì…˜ ì„¤ì •ê³¼ ê°™ì€ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ í†µì œ í™˜ê²½ì´ ë¹„ë™ê¸° ë¡œê¹… ì„±ëŠ¥ë“¤ì„ ê°ê´€ì ìœ¼ë¡œ ë¹„êµí•˜ëŠ”ë° ì¶©ë¶„í–ˆëŠ”ì§€ ì˜ë¬¸ì…ë‹ˆë‹¤. Logging Frameworkì—ì„œ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° ë¡œê¹… ê¸°ëŠ¥ì— ëŒ€í•œ ì´í•´ë„ê°€ ë¶€ì¡±í•œë§Œí¼, í†µì œí•˜ì§€ ëª»í•œ ë³€ì¸ë“¤ë„ ë§ë‹¤ê³  ìƒê°ë©ë‹ˆë‹¤. ì œ ìŠ¤ìŠ¤ë¡œë„ í™•ì‹¤í•˜ì§€ ì•Šì•„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ ì•„ì‰½ìŠµë‹ˆë‹¤. ğŸ˜­</p>

<p>ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  í•œ ê°€ì§€ ê²½í–¥ì„±ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ê°€ ìœ ì‹¤ë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ë”ë¼ë„, íŠ¸ëœì­ì…˜ì—ì„œ ë¡œê·¸ ë°œìƒì´ ì¦ë‹¤ë©´ ë¹„ë™ê¸° ë¡œê¹…ì„ ì±„íƒí•˜ëŠ” ê²ƒì´ TPS ë° ì—ëŸ¬ìœ¨ ë“± ì„±ëŠ¥ ì¸¡ë©´ì—ì„œ ë™ê¸°ì ì¸ ë¡œê¹… ë°©ì‹ë³´ë‹¤ ìœ ë¦¬í•˜ë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤. ë¹„ë™ê¸° ë¡œê¹…ì˜ ê²½ìš°, ë¡œê·¸ íŒŒì¼ ì“°ê¸° I/O ì‘ì—…ì´ ì¦‰ì‹œ ì§„í–‰ë˜ì§€ ì•Šì•„ íŠ¸ëœì­ì…˜ ìˆ˜í–‰ ì‹œê°„ì´ ì§§ì•„ì§€ë©´ì„œ ìŠ¤ë ˆë“œê°„ DB ì»¤ë„¥ì…˜ íšŒì „ì´ ì›í• í•´ì¡ŒìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ì˜ ë™ê¸°ì ì¸ ë¡œê¹… ë°©ì‹ì—ì„œ ë°œìƒí•˜ë˜ Hikari CP Dead Lock ì—ëŸ¬ê°€ ë§ì´ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>

<p>ë¹„ë™ê¸° ë¡œê¹… ë°©ì‹ì„ ì±„íƒí•¨ìœ¼ë¡œì¨ ë¡œê·¸ ìœ ì‹¤ë¡œ ì¸í•œ ì‹ ë¢°ì„± ë¬¸ì œ ë“± ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚˜ì§€ë§Œ, ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì¶©ë¶„íˆ ê³ ë ¤í•´ë³¼ë§Œí•œ ê¸°ëŠ¥ì´ë¼ê³  ìƒê°ë©ë‹ˆë‹¤. Pick-Git íŒ€ì€ Log4j2ê°€ Logbackë³´ë‹¤ ë¹„ë™ê¸° ì„±ëŠ¥ì´ ìš°ìˆ˜í•˜ë©° ë‹¤ì–‘í•œ Appender(Kafka, DB, HTTP)ë¥¼ ì œê³µí•˜ëŠ” ë§Œí¼ í™•ì¥ì„±ì´ ì¢‹ë‹¤ê³  íŒë‹¨í•´, Log4j2ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ ìµœì¢… ê²°ì •í–ˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<hr />

<h2 id="reference">Reference</h2>

<ul>
  <li><a href="https://logging.apache.org/log4j/2.x/manual/async.html">Log4j2 ê³µì‹ ë¬¸ì„œ</a></li>
  <li><a href="http://logback.qos.ch/manual/appenders.html">Logback ê³µì‹ ë¬¸ì„œ</a></li>
  <li><a href="https://kwonnam.pe.kr/wiki/java/logback/asyncappender">Logback AsyncAppender</a></li>
</ul>

      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Log4j2 ë° Logbackì˜ Async Logging ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë¹„êµ&url=https://2021-pick-git.github.io//logback-vs-log4j2/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=https://2021-pick-git.github.io//logback-vs-log4j2/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=https://2021-pick-git.github.io//logback-vs-log4j2/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
            <a href="/tags#ë°±ì—”ë“œ" class="tag">&#35; ë°±ì—”ë“œ</a>
          
            <a href="/tags#Logging" class="tag">&#35; Logging</a>
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
